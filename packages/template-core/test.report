
> @template-core@0.1.0 test /Users/deepak/code/spin_network_app/packages/template-core
> vitest run

[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

 RUN  v1.6.1 /Users/deepak/code/spin_network_app/packages/template-core

 âœ“ src/__tests__/state/reducer.test.ts  (9 tests) 4ms
 âœ“ src/redux/__tests__/uiSlice.test.ts  (6 tests) 6ms
 âœ“ src/__tests__/state/hooks.test.tsx  (7 tests) 24ms
stderr | src/__tests__/state/context.test.tsx > AppStateProvider > should throw error when useAppState is used outside provider
Error: Uncaught [Error: useAppState must be used within an AppStateProvider]
    at reportException (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: useAppState must be used within an AppStateProvider
    at Module.useAppState (/Users/deepak/code/spin_network_app/packages/template-core/src/state/context.tsx:108:11)
    at TestComponent (/Users/deepak/code/spin_network_app/packages/template-core/src/__tests__/state/context.test.tsx:162:7)
    at renderWithHooks (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
Error: Uncaught [Error: useAppState must be used within an AppStateProvider]
    at reportException (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
    at innerInvokeEventListeners (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
    at invokeEventListeners (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
    at HTMLUnknownElementImpl.dispatchEvent (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
    at HTMLUnknownElement.dispatchEvent (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
    at Object.invokeGuardedCallbackDev (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
    at invokeGuardedCallback (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
    at beginWork$1 (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
    at performUnitOfWork (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:26599:12) Error: useAppState must be used within an AppStateProvider
    at Module.useAppState (/Users/deepak/code/spin_network_app/packages/template-core/src/state/context.tsx:108:11)
    at TestComponent (/Users/deepak/code/spin_network_app/packages/template-core/src/__tests__/state/context.test.tsx:162:7)
    at renderWithHooks (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
    at invokeEventListeners (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
    at HTMLUnknownElementImpl._dispatch (/Users/deepak/code/spin_network_app/node_modules/.pnpm/jsdom@24.1.3/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
The above error occurred in the <TestComponent> component:

    at TestComponent (/Users/deepak/code/spin_network_app/packages/template-core/src/__tests__/state/context.test.tsx:203:29)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

 âœ“ src/__tests__/state/context.test.tsx  (6 tests) 56ms
 âœ“ src/redux/__tests__/hooks.test.tsx  (6 tests) 27ms
stderr | src/redux/__tests__/hooks.test.tsx > Redux Hooks > usePersistenceSettings > should return persistence settings
Selector unknown returned a different result when called with the same parameters. This can lead to unnecessary rerenders.
Selectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization {
  state: {
    ui: { collapsedSections: [Object], panels: [Object] },
    settings: { theme: 'dark', persistLayout: false, persistTheme: true }
  },
  selected: { persistLayout: false, persistTheme: true },
  selected2: { persistLayout: false, persistTheme: true },
  stack: 'Error: \n' +
    '    at /Users/deepak/code/spin_network_app/node_modules/.pnpm/react-redux@8.1.3_@types+react-dom@18.3.6_@types+react@18.3.20__@types+react@18.3.20_re_47ab872f0afc6847b5c3c41e1b288334/node_modules/react-redux/lib/hooks/useSelector.js:79:23\n' +
    '    at memoizedSelector (/Users/deepak/code/spin_network_app/node_modules/.pnpm/use-sync-external-store@1.5.0_react@18.3.1/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js:47:30)\n' +
    '    at /Users/deepak/code/spin_network_app/node_modules/.pnpm/use-sync-external-store@1.5.0_react@18.3.1/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js:71:22\n' +
    '    at mountSyncExternalStore (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:15980:20)\n' +
    '    at Object.useSyncExternalStore (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.development.js:16908:14)\n' +
    '    at useSyncExternalStore (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react.development.js:1676:21)\n' +
    '    at process.env.NODE_ENV.exports.useSyncExternalStoreWithSelector (/Users/deepak/code/spin_network_app/node_modules/.pnpm/use-sync-external-store@1.5.0_react@18.3.1/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js:82:19)\n' +
    '    at useSelector (/Users/deepak/code/spin_network_app/node_modules/.pnpm/react-redux@8.1.3_@types+react-dom@18.3.6_@types+react@18.3.20__@types+react@18.3.20_re_47ab872f0afc6847b5c3c41e1b288334/node_modules/react-redux/lib/hooks/useSelector.js:125:27)\n' +
    '    at Module.usePersistenceSettings (/Users/deepak/code/spin_network_app/packages/template-core/src/redux/hooks/index.ts:20:3)\n' +
    '    at __vite_ssr_import_2__.renderHook.wrapper.wrapper (/Users/deepak/code/spin_network_app/packages/template-core/src/redux/__tests__/hooks.test.tsx:74:43)'
}

 âœ“ src/__tests__/components/layouts/AppLayout.test.tsx  (7 tests) 56ms
 âœ“ src/__tests__/components/common/ResizablePanel.test.tsx  (9 tests) 91ms
 âœ“ src/redux/__tests__/store.test.ts  (4 tests) 4ms
 âœ“ src/redux/__tests__/settingsSlice.test.ts  (6 tests) 3ms

 Test Files  9 passed (9)
      Tests  60 passed (60)
   Start at  12:09:04
   Duration  1.26s (transform 196ms, setup 1.34s, collect 409ms, tests 271ms, environment 3.22s, prepare 1.07s)

